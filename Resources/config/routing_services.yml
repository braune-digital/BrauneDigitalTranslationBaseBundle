parameters:
    braune_digital.translation_base.routing.locales: "%locales%"
    braune_digital.translation_base.routing.default_locale: "%locale%"

services:
    braune_digital.translation_base.routing.generator:
        class: "BrauneDigital\\TranslationBaseBundle\\Routing\\LocalizedUrlGenerator"
        arguments:
            - "@logger"
            - "%braune_digital.translation_base.routing.locales%"
            - "%braune_digital.translation_base.routing.default_locale%"

    braune_digital.translation_base.routing.matcher:
        class: "BrauneDigital\\TranslationBaseBundle\\Routing\\LocalizedUrlMatcher"
        arguments:
            - "%braune_digital.translation_base.routing.locales%"
            - "%braune_digital.translation_base.routing.default_locale%"

    braune_digital.translation_base.routing.service_router:
        class: "BrauneDigital\\TranslationBaseBundle\\Routing\\ServiceRouter"
        tags:
            - {name: "monolog.logger", channel: "router"}
        arguments:
            - "@service_container"
            - "%router.resource%"
            - "@router.request_context"
            - "@braune_digital.translation_base.routing.generator"
            - "@braune_digital.translation_base.routing.matcher"

    braune_digital.translation_base.routing.loader.yaml:
        class: "BrauneDigital\\TranslationBaseBundle\\Routing\\YamlLocalizedLoader"
        arguments: ["@file_locator", "%braune_digital.translation_base.routing.locales%"]
        tags:
            - { name: routing.loader }